---
# ============================================================
# EDGE GATEWAY â€” HANDLERS
# ============================================================

# ------------------------------------------------------------
# VALIDATE NGINX CONFIG BEFORE RELOAD
# ------------------------------------------------------------
- name: Validate nginx config
  command: docker exec edge-nginx nginx -t
  changed_when: false
  failed_when: false

# ------------------------------------------------------------
# RELOAD EDGE NGINX (ZERO DOWNTIME)
# ------------------------------------------------------------
- name: Reload edge nginx
  command: docker exec edge-nginx nginx -s reload
  changed_when: false
  failed_when: false
